function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("lodash")):"function"==typeof define&&define.amd?define(["lodash"],t):e.TB=t(e._)}(this,function(e){"use strict";var t=function(){function t(){var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,t),this["default"]=r["default"]||{},this.request=r.request||{},this.query=e.merge({},this["default"],this.request.extractQuery())}return _createClass(t,[{key:"getQuery",value:function(){return this.query}}]),t}(),r=function(){function e(t){_classCallCheck(this,e),this.body=t}return _createClass(e,[{key:"extractQuery",value:function(){return this._extractQuery(this.body)}},{key:"_extractQuery",value:function(e){var t=this._convertInput(e);return void 0===t.query||"object"!=typeof t.query?{}:t.query}},{key:"_convertInput",value:function(e){if("String"!=typeof e)return"object"==typeof e?e:{};if(0==e.length)return{};try{this.requestObject=JSON.parse(e)}catch(t){throw t instanceof SyntaxError?new TypeError("Request input must be a valid JSON when it's a string"):t}}}]),e}();widgetsToArray=function(e){return result=[],Object.keys(e).forEach(function(t){result.push({id:t,data:e[t]})}),result};var n=function(){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,e),this.widgets={},this.request=new r(n.requestBody),this.query=new t({"default":n.queryDefault,request:this.request})}return _createClass(e,[{key:"widget",value:function(e,t){this.widgets[e]=t}},{key:"toJSON",value:function(){return{timestamp:Date.now(),query:this.query.getQuery(),item:widgetsToArray(this.widgets)}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}]),e}(),u={response:n},s=u;return s});
//# sourceMappingURL=tadaboard.min.js.map
